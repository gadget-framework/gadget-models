
gadgetlikelihood('likelihood.rin',gd$dir,missingOkay = TRUE) %>% 
  ## Write a penalty component to the likelihood file
  ## gadget_update("penalty",
  ##               name = "bounds",
  ##               weight = "10",
  ##               data = data.frame(
  ##                 switch = c("default"),
  ##                 power = c(2),
  ##                 upperW=10000,
  ##                 lowerW=10000,
  ##                 stringsAsFactors = FALSE)) %>%
  ## gadget_update("understocking",
  ##               name = "understocking",
  ##               weight = "10") %>% #
  gadget_update("catchdistribution",
                name = "alk.rin",
                weight = 1,
                data = alk.rin,
                aggregationlevel = 0,
                fleetnames = "hunt",
                stocknames = stock_names) %>%
  ## gadget_update("catchdistribution",
  ##               name = "adist.ven.seal",
  ##               weight = 1,
  ##               aggregationlevel = 1,
  ##               data = adist.ven.seal,
  ##               fleetnames = c("sealven"),
  ##               stocknames = stock_names) %>%
  gadget_update("surveyindices",
                name = "si.rin",
                weight = 1,
                data = si.rin,
                sitype = "acoustic",
                biomass = 0,
                ## fittype = 'fixedlinearfit',
                fittype = 'fixedloglinearfit',
                slope = 1,
                intercept = 0,
                surveynames = "aco.rin",
                stocknames = stock_names) %>%
  gadget_update("stockdistribution",
                name = "mat.rin",
                weight = 1,
                data = mat.rin,
                fleetnames = c("hunt"),
                stocknames = stock_names) %>%

  gadget_update("stomachcontent",
                name = "stom1.rin",
                weight = 1,
                data_function = "scsimple",
                data = stom1.rin,
                predator_names = c("rinimm","rinmat"),
                prey_labels = list("ven3.5"=c("venimm","venmat"),
                                   "her1"="her",
                                   "other1"="other"),
                ## prey_length = list("ven3.5"=3.5:20.5,
                ##                    "her1"=1:25,
                ##                    "other1"=1:30),
                prey_digestion_coefficients = list(c(1,0,0))) %>%
                ## predatorlengths,
                ## ...) %>%

  gadget_update("stomachcontent",
                name = "stom2.rin",
                weight = 1,
                data_function = "scsimple",
                data = stom2.rin,
                predator_names = c("rinimm","rinmat"),
                prey_labels = list(len8.5=c("venimm","venmat"),
                                   len9.5=c("venimm","venmat"),
                                   len10.5=c("venimm","venmat"),
                                   len11.5=c("venimm","venmat"),
                                   len12.5=c("venimm","venmat"),
                                   len13.5=c("venimm","venmat"),
                                   len14.5=c("venimm","venmat"),
                                   len15.5=c("venimm","venmat"),
                                   len16.5="venmat",
                                   len17.5="venmat",
                                   len18.5="venmat"),
                ## prey_length = list(len8.5=8.5:9.5,
                ##                    len9.5=9.5:10.5,
                ##                    len10.5=10.5:11.5,
                ##                    len11.5=11.5:12.5,
                ##                    len12.5=12.5:13.5,
                ##                    len13.5=13.5:14.5,
                ##                    len14.5=14.5:15.5,
                ##                    len15.5=15.5:16.5,
                ##                    len16.5=16.5:17.5,
                ##                    len17.5=17.5:18.5,
                ##                    len18.5=18.5:19.5),
                prey_digestion_coefficients = list(c(1,0,0))) %>%
                ## predatorlengths,
                ## ...) %>%

  ## gadget_update("stomachcontent",
  ##               name = "stom2.rin",
  ##               weight = 1,
  ##               data_function = "scsimple",
  ##               data = stom2.rin,
  ##               predator_names = c("rinimm","rinmat"),
  ##               prey_labels = list(c("venimm","venmat")),
  ##               prey_digestion_coefficients = list(c(1,0,0))) %>%
                    
  ## gadget_update("stockdistribution",
  ##               name = "mat.rin",
  ##               weight = 1,
  ##               data = mat.rin,
  ##               fleetnames = c("hunt","cull"),
  ##               stocknames = stock_names) %>%
                    
  write.gadget.file(gd$dir)
